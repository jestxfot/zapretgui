# Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ: ĞŸĞ¾Ğ¸ÑĞº Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹

## ĞĞ±Ğ·Ğ¾Ñ€

Ğ£Ğ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ¾Ğ²:
- Zapret 1 BAT (Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° .bat Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
- Zapret 1 Direct (ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ + JSON ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸)
- Zapret 2 Direct (ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ + JSON ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸)

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    StrategySearchBar                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [ğŸ” ĞŸĞ¾Ğ¸ÑĞº...]  [Label â–¼]  [Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° â–¼]  [Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ â–¼]   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    StrategyFilterEngine                          â”‚
â”‚  - parse_query(text) â†’ SearchQuery                              â”‚
â”‚  - filter_strategies(strategies, query) â†’ filtered              â”‚
â”‚  - sort_strategies(strategies, sort_key) â†’ sorted               â”‚
â”‚  - group_by_label(strategies) â†’ grouped                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²                      â”‚
â”‚  - BatStrategyAdapter (Ğ´Ğ»Ñ .bat Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)                         â”‚
â”‚  - JsonStrategyAdapter (Ğ´Ğ»Ñ JSON ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### 1. StrategySearchBar (UI Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚)

**Ğ¤Ğ°Ğ¹Ğ»:** `ui/widgets/strategy_search_bar.py`

```python
class StrategySearchBar(QWidget):
    """ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹"""

    # Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ»Ñ‹
    search_changed = pyqtSignal(str)           # Ğ¢ĞµĞºÑÑ‚ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»ÑÑ
    filters_changed = pyqtSignal(dict)         # Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ¸ÑÑŒ
    sort_changed = pyqtSignal(str, bool)       # (ĞºĞ»ÑÑ‡ ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸, reverse)

    def __init__(self, parent=None):
        # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹:
        # - QLineEdit Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° (Ñ debounce 300ms)
        # - QComboBox Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Label
        # - QComboBox Ğ´Ğ»Ñ ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ¸
        # - QPushButton Ğ´Ğ»Ñ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ² (popup)
```

**Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ UI:**

| Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|-----|----------|
| ĞŸĞ¾Ğ»Ğµ Ğ¿Ğ¾Ğ¸ÑĞºĞ° | QLineEdit | Ğ˜ĞºĞ¾Ğ½ĞºĞ° ğŸ”, placeholder "ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ, Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ, Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ğ¼..." |
| Label Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€ | QComboBox | "Ğ’ÑĞµ", "recommended", "experimental", "deprecated", "game", etc. |
| Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° | QComboBox | "ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ", "ĞŸĞ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ-Ğ¯", "ĞŸĞ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¯-Ğ", "ĞŸĞ¾ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ñƒ", "ĞŸĞ¾ Ğ´Ğ°Ñ‚Ğµ" |
| Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ | QPushButton | ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ popup Ñ Ñ‡ĞµĞºĞ±Ğ¾ĞºÑĞ°Ğ¼Ğ¸ |

### 2. StrategyFilterEngine (Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸)

**Ğ¤Ğ°Ğ¹Ğ»:** `strategy_menu/filter_engine.py`

```python
@dataclass
class SearchQuery:
    """Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°"""
    text: str = ""                    # Ğ¢ĞµĞºÑÑ‚ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
    labels: List[str] = None         # Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ¿Ğ¾ label (None = Ğ²ÑĞµ)
    has_hostlist: bool = None        # Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ hostlist?
    has_ipset: bool = None           # Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ ipset?
    protocols: List[str] = None      # TCP, UDP, QUIC
    ports: List[int] = None          # ĞšĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹
    techniques: List[str] = None     # fake, split, disorder, etc.


class StrategyFilterEngine:
    """Ğ”Ğ²Ğ¸Ğ¶Ğ¾Ğº Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹"""

    def filter_strategies(
        self,
        strategies: List[StrategyInfo],
        query: SearchQuery
    ) -> List[StrategyInfo]:
        """
        Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ Ğ¿Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ.

        ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ñ‚ĞµĞºÑÑ‚Ñƒ Ğ¸Ñ‰ĞµÑ‚ Ğ²:
        - name (Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ)
        - description (Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ)
        - args (Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸)
        - author (Ğ°Ğ²Ñ‚Ğ¾Ñ€)
        - comment (ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹)
        """

    def sort_strategies(
        self,
        strategies: List[StrategyInfo],
        sort_key: str,
        reverse: bool = False
    ) -> List[StrategyInfo]:
        """
        Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸.

        sort_key Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹:
        - "default" - Ğ¿Ğ¾ Ğ¿Ğ¾Ñ€ÑĞ´ĞºÑƒ Ğ² Ñ„Ğ°Ğ¹Ğ»Ğµ
        - "name" - Ğ¿Ğ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ñ
        - "rating" - Ğ¿Ğ¾ Ñ€ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³Ñƒ (Ğ¸Ğ· Ñ€ĞµĞµÑÑ‚Ñ€Ğ°)
        - "label" - Ğ¿Ğ¾ label (recommended Ğ¿ĞµÑ€Ğ²Ñ‹Ğµ)
        - "date" - Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ñ„Ğ°Ğ¹Ğ»Ğ°
        """

    def group_by_label(
        self,
        strategies: List[StrategyInfo]
    ) -> Dict[str, List[StrategyInfo]]:
        """
        Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ Ğ¿Ğ¾ label.

        Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚:
        {
            "recommended": [...],
            "experimental": [...],
            "deprecated": [...],
            "unlabeled": [...]
        }
        """
```

### 3. StrategyInfo (Ğ£Ğ½Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°)

**Ğ¤Ğ°Ğ¹Ğ»:** `strategy_menu/strategy_info.py`

```python
@dataclass
class StrategyInfo:
    """Ğ£Ğ½Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸"""

    # Ğ˜Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ
    id: str                          # Ğ£Ğ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ID
    name: str                        # ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ĞµĞ¼Ğ¾Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ
    source: str                      # "bat" | "json_tcp" | "json_quic" | etc.

    # ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
    description: str = ""            # ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ
    author: str = ""                 # ĞĞ²Ñ‚Ğ¾Ñ€
    version: str = ""                # Ğ’ĞµÑ€ÑĞ¸Ñ
    label: str = ""                  # recommended, experimental, deprecated
    comment: str = ""                # ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹

    # Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
    args: str = ""                   # ĞÑ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸
    file_path: str = ""              # ĞŸÑƒÑ‚ÑŒ Ğº Ñ„Ğ°Ğ¹Ğ»Ñƒ

    # ĞĞ½Ğ°Ğ»Ğ¸Ğ· (Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸)
    protocols: List[str] = None      # ["TCP", "UDP"]
    ports: List[int] = None          # [80, 443]
    techniques: List[str] = None     # ["fake", "split"]
    uses_hostlist: bool = False
    uses_ipset: bool = False

    # ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (Ğ¸Ğ· Ñ€ĞµĞµÑÑ‚Ñ€Ğ°)
    rating: int = 0                  # 0-5 Ğ·Ğ²Ñ‘Ğ·Ğ´
    is_favorite: bool = False
    last_used: datetime = None
```

### 4. ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²

**Ğ¤Ğ°Ğ¹Ğ»:** `strategy_menu/strategy_adapters.py`

```python
class BaseStrategyAdapter(ABC):
    """Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€ Ğ´Ğ»Ñ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ° ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹"""

    @abstractmethod
    def get_all_strategies(self) -> List[StrategyInfo]:
        """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ²ÑĞµ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ Ğ¸Ğ· Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ°"""

    @abstractmethod
    def get_strategy_by_id(self, strategy_id: str) -> Optional[StrategyInfo]:
        """Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ñ Ğ¿Ğ¾ ID"""


class BatStrategyAdapter(BaseStrategyAdapter):
    """ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€ Ğ´Ğ»Ñ .bat Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (Zapret 1 BAT Ñ€ĞµĞ¶Ğ¸Ğ¼)"""

    def __init__(self, bat_folder: str):
        self.bat_folder = bat_folder

    def get_all_strategies(self) -> List[StrategyInfo]:
        # ĞŸĞ°Ñ€ÑĞ¸Ñ‚ Ğ²ÑĞµ .bat Ñ„Ğ°Ğ¹Ğ»Ñ‹
        # Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· REM ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸ĞµĞ²
        # ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ‹


class JsonStrategyAdapter(BaseStrategyAdapter):
    """ĞĞ´Ğ°Ğ¿Ñ‚ĞµÑ€ Ğ´Ğ»Ñ JSON ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹ (Direct Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ‹)"""

    def __init__(self, json_folder: str, category_key: str):
        self.json_folder = json_folder
        self.category_key = category_key

    def get_all_strategies(self) -> List[StrategyInfo]:
        # Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ JSON Ñ„Ğ°Ğ¹Ğ»Ñ‹
        # ĞŸĞ°Ñ€ÑĞ¸Ñ‚ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸
        # Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ StrategyInfo
```

## ĞŸĞ¾Ğ¸ÑĞºĞ¾Ğ²Ñ‹Ğ¹ ÑĞ¸Ğ½Ñ‚Ğ°ĞºÑĞ¸Ñ

### ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº
```
youtube          # Ğ˜Ñ‰ĞµÑ‚ "youtube" Ğ² Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğ¸, Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¸, Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ…
fake split       # Ğ˜Ñ‰ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğµ Ğ˜ "fake" Ğ˜ "split"
```

### Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ñ‚Ğ°ĞºÑĞ¸Ñ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
```
label:recommended         # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ recommended
port:443                  # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¿Ğ¾Ñ€Ñ‚Ğ° 443
protocol:udp              # Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ UDP
technique:fake            # Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ fake
author:bol-van            # ĞŸĞ¾ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ñƒ
-deprecated               # Ğ˜ÑĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ deprecated
"exact phrase"            # Ğ¢Ğ¾Ñ‡Ğ½Ğ°Ñ Ñ„Ñ€Ğ°Ğ·Ğ°
```

## Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¼ ĞºĞ¾Ğ´Ğ¾Ğ¼

### Ğ”Ğ»Ñ BAT Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° (StrategyTableWithFavoritesFilter)

```python
# Ğ’ strategy_table_widget_favorites.py

class StrategyTableWithFavoritesFilter(QWidget):
    def __init__(self, ...):
        # Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ search bar
        self.search_bar = StrategySearchBar()
        self.search_bar.search_changed.connect(self._on_search)
        self.search_bar.filters_changed.connect(self._on_filters)

        # Ğ”Ğ²Ğ¸Ğ¶Ğ¾Ğº Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸
        self.filter_engine = StrategyFilterEngine()
        self.adapter = BatStrategyAdapter(BAT_FOLDER)

    def _on_search(self, text: str):
        query = SearchQuery(text=text)
        filtered = self.filter_engine.filter_strategies(
            self.adapter.get_all_strategies(),
            query
        )
        self._update_table(filtered)
```

### Ğ”Ğ»Ñ Direct Ñ€ĞµĞ¶Ğ¸Ğ¼Ğ° (CategoriesTabPanel)

```python
# Ğ’ categories_tab_panel.py Ğ¸Ğ»Ğ¸ strategies_page.py

class CategoriesTabPanel(QWidget):
    def __init__(self, ...):
        # Search bar Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ½Ğ°Ğ´ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ°Ğ¼Ğ¸
        self.search_bar = StrategySearchBar()
        self.search_bar.search_changed.connect(self._on_search)

    def _on_search(self, text: str):
        # Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµÑ‚ ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ¸ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸
        current_category = self._get_current_category()
        adapter = JsonStrategyAdapter(JSON_FOLDER, current_category)

        query = SearchQuery(text=text)
        filtered = self.filter_engine.filter_strategies(
            adapter.get_all_strategies(),
            query
        )
        self._update_strategies_list(filtered)
```

## UI Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½ (Windows 11 Fluent)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ” ĞŸĞ¾Ğ¸ÑĞº ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¹...                   â”‚ â”‚ Label â–¼ â”‚ â”‚ Ğ¡Ğ¾Ñ€Ñ‚. â–¼ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                     â”‚
â”‚ ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾: 42 ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸Ğ¸  |  Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹: recommended, TCP                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¡Ñ‚Ğ¸Ğ»Ğ¸:**
- ĞŸĞ¾Ğ»Ğµ Ğ¿Ğ¾Ğ¸ÑĞºĞ°: rgba(255,255,255,0.05), border-radius: 6px
- Dropdown: Acrylic blur ÑÑ„Ñ„ĞµĞºÑ‚
- Hover ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ğ½Ğ° ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ñ…
- ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²

## ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

1. **Ğ­Ñ‚Ğ°Ğ¿ 1:** Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ `StrategyInfo` Ğ¸ Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹
2. **Ğ­Ñ‚Ğ°Ğ¿ 2:** Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ `StrategyFilterEngine` Ñ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¼ Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ¼
3. **Ğ­Ñ‚Ğ°Ğ¿ 3:** Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ `StrategySearchBar` Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚
4. **Ğ­Ñ‚Ğ°Ğ¿ 4:** Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² BAT Ñ€ĞµĞ¶Ğ¸Ğ¼
5. **Ğ­Ñ‚Ğ°Ğ¿ 5:** Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Direct Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ‹
6. **Ğ­Ñ‚Ğ°Ğ¿ 6:** Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ñ‚Ğ°ĞºÑĞ¸Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
7. **Ğ­Ñ‚Ğ°Ğ¿ 7:** Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºÑƒ Ğ¿Ğ¾ label

## Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
strategy_menu/
â”œâ”€â”€ filter_engine.py        # StrategyFilterEngine
â”œâ”€â”€ strategy_info.py        # StrategyInfo dataclass
â”œâ”€â”€ strategy_adapters.py    # BatStrategyAdapter, JsonStrategyAdapter
â””â”€â”€ ...

ui/widgets/
â”œâ”€â”€ strategy_search_bar.py  # StrategySearchBar Ğ²Ğ¸Ğ´Ğ¶ĞµÑ‚
â””â”€â”€ ...
```
