# Формат .bat файлов стратегий

Программа сканирует папку `bat/` и автоматически определяет стратегии по наличию `.bat` файлов.

Метаданные стратегии указываются в REM комментариях в начале файла.

## Поддерживаемые поля

### Обязательные поля

Нет строго обязательных полей. Если `REM NAME:` не указано, название берётся из имени файла.

### Необязательные поля

```bat
@echo off
REM NAME: Название стратегии
REM VERSION: 3.8
REM DESCRIPTION: Подробное описание стратегии
REM LABEL: recommended
REM AUTHOR: bol-van
REM DATE: 2025-04-10

REM === Ваш код стратегии ===
...
```

#### Описание полей:

- **`REM NAME:`** — название стратегии (отображается в интерфейсе)
  - Если не указано, используется имя файла
  - Пример: `REM NAME: Оригинальная bol-van v2`

- **`REM VERSION:`** — версия стратегии
  - Пример: `REM VERSION: 3.8`

- **`REM DESCRIPTION:`** — описание стратегии
  - Может быть многострочным (каждая строка начинается с REM)
  - Пример: `REM DESCRIPTION: Стратегия для большинства провайдеров`

- **`REM LABEL:`** — метка/тег стратегии
  - Поддерживаемые значения:
    - `recommended` — рекомендуемая (зелёная метка)
    - `deprecated` — устаревшая (красная метка)
    - `experimental` — экспериментальная (жёлтая метка)
  - Пример: `REM LABEL: recommended`

- **`REM AUTHOR:`** — автор стратегии
  - Пример: `REM AUTHOR: bol-van`

- **`REM DATE:`** — дата создания или последнего обновления
  - Формат: YYYY-MM-DD
  - Пример: `REM DATE: 2025-04-10`

## Примеры

### Минимальный файл

```bat
@echo off
"%~dp0..\bin\winws.exe" --wf-tcp=80,443
```

Название будет взято из имени файла (например, `simple_strategy.bat` → "Simple Strategy")

### Полный файл с метаданными

```bat
@echo off
REM NAME: Оригинальная bol-van v2 (07.04.2025)
REM VERSION: 3.8
REM DESCRIPTION: Оригинальная стратегия для большинства провайдеров
REM LABEL: recommended
REM AUTHOR: bol-van
REM DATE: 2025-04-10

REM === Запуск winws.exe ===
cd /d "%~dp0.."
bin\winws.exe --wf-tcp=80,443 --wf-udp=443 ...
```

## Правила парсинга

1. Читаются только первые 50 строк файла
2. REM комментарии могут идти в любом порядке
3. После первого не-REM комментария (кроме `@echo off`) парсинг останавливается
4. Регистр не важен: `REM NAME:` = `rem name:` = `Rem Name:`
5. Пробелы после двоеточия игнорируются

## Расположение файлов

- Все `.bat` файлы должны находиться в папке `bat/`
- Программа автоматически сканирует эту папку при запуске
- Можно добавлять/удалять файлы в любое время
- После изменений нужно перезапустить программу или обновить список стратегий

## Отображение в интерфейсе

В интерфейсе отображаются:
- **Название** (из REM NAME или имени файла)
- **Метка** (рекомендуемая/устаревшая/экспериментальная)
- **Описание** (при наведении мыши)
- **Автор** (при наведении мыши)
- **Версия** (при наведении мыши)
- **Дата** (при наведении мыши)
- **Провайдер** (если указан)

При клике на стратегию открывается подробная информация со всеми полями.

